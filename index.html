<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Avaloka Meditation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  background: #000;
  color: #fff;
  font-family: system-ui;
  text-align: center;
}

#startBtn {
  margin-top: 40vh;
  padding: 16px 36px;
  font-size: 18px;
  border-radius: 40px;
  border: none;
  background: #ffffff;
  color: #000;
}

#status {
  margin-top: 20px;
  opacity: 0.6;
  font-size: 14px;
}
</style>
</head>

<body>

<button id="startBtn">START MEDITATION</button>
<div id="status">Tap once to begin</div>

<!-- Tanpura (continuous background) -->
<audio id="tanpura" src="audio/tanpura.mp3" loop></audio>

<!-- Voice guidance -->
<audio id="sit" src="audio/sit.mp3"></audio>
<audio id="hands" src="audio/hands.mp3"></audio>
<audio id="spine" src="audio/spine.mp3"></audio>
<audio id="eyes" src="audio/close_eyes.mp3"></audio>
<audio id="focus" src="audio/focus.mp3"></audio>
<audio id="in" src="audio/breathe_in.mp3"></audio>
<audio id="out" src="audio/breathe_out.mp3"></audio>
<audio id="identity" src="audio/identity.mp3"></audio>
<audio id="relax" src="audio/relax.mp3"></audio>
<audio id="remain" src="audio/remain.mp3"></audio>

<script>
const startBtn = document.getElementById("startBtn");
const statusEl = document.getElementById("status");
const tanpura = document.getElementById("tanpura");

function play(id, delay = 0) {
  setTimeout(() => {
    document.getElementById(id).play();
  }, delay);
}

startBtn.onclick = async () => {
  startBtn.style.display = "none";
  statusEl.innerText = "Settling…";

  /* Start tanpura first */
  tanpura.volume = 0.18;   // soft background
  await tanpura.play();

  /* Voice guidance sequence */
  play("sit", 1000);
  play("hands", 6000);
  play("spine", 12000);
  play("eyes", 18000);
  play("focus", 24000);

  play("in", 32000);
  play("out", 37000);
  play("in", 42000);
  play("out", 47000);

  play("identity", 54000);
  play("relax", 70000);
  play("remain", 82000);

  /* Silence phase */
  setTimeout(() => {
    statusEl.innerText = "Silent meditation · Tanpura only";
  }, 90000);
};
</script>

</body>
</html>
